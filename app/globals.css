@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-mona-sans);
  --font-serif: var(--font-ibm-plex-serif);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --color-blue: var(--blue);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.625rem;

  /* Warm Literary Backgrounds */
  --bg-primary: #f8f4e9;
  --bg-secondary: #f3e4c7;
  --bg-tertiary: #fff6e5;
  --bg-card: #ffffff;

  /* Warm Text Colors */
  --text-primary: #212a3b;
  --text-secondary: #3d485e;
  --text-muted: #222c37;

  /* Warm Accent */
  --accent-warm: #212a3b;
  --accent-warm-hover: #3d485e;
  --accent-light: #fff6e5;

  /* Semantic Colors */
  --success: #7c9a82;
  --warning: #d4a853;

  /* Borders */
  --border-subtle: rgba(33, 42, 59, 0.12);
  --border-medium: rgba(33, 42, 59, 0.2);

  /* Soft Shadows */
  --shadow-soft-sm: 0 1px 2px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.06);
  --shadow-soft: 0 1px 3px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-soft-md: 0 2px 4px rgba(0, 0, 0, 0.04), 0 8px 16px rgba(0, 0, 0, 0.08);
  --shadow-soft-lg: 0 4px 12px rgba(0, 0, 0, 0.08), 0 16px 32px rgba(0, 0, 0, 0.12);
  --shadow-book: 0px 10px 30px 0px rgba(0, 0, 0, 0.1);

  /* Base theme colors */
  --background: #f8f4e9;
  --foreground: #212a3b;
  --card: #ffffff;
  --card-foreground: #212a3b;
  --popover: #ffffff;
  --popover-foreground: #212a3b;
  --primary: #212a3b;
  --primary-foreground: #ffffff;
  --secondary: #f3e4c7;
  --secondary-foreground: #212a3b;
  --muted: #f3e4c7;
  --muted-foreground: #3d485e;
  --accent: #fff6e5;
  --accent-foreground: #212a3b;
  --destructive: oklch(0.577 0.245 27.325);
  --border: rgba(33, 42, 59, 0.12);
  --input: rgba(33, 42, 59, 0.12);
  --ring: #212a3b;
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: #ffffff;
  --sidebar-foreground: #212a3b;
  --sidebar-primary: #212a3b;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #f3e4c7;
  --sidebar-accent-foreground: #212a3b;
  --sidebar-border: rgba(33, 42, 59, 0.12);
  --sidebar-ring: #212a3b;

  /* Brand color */
  --blue: #212a3b;

  /* Brand accent (warm brown) - for active states and CTAs */
  --color-brand: #663820;
  --color-brand-hover: #7a4528;

  /* Layout dimensions */
  --navbar-height: 74px;
}

.dark {
  --background: #1a1918;
  --foreground: #f7f4ee;
  --card: #252321;
  --card-foreground: #f7f4ee;
  --popover: #252321;
  --popover-foreground: #f7f4ee;
  --primary: #f7f4ee;
  --primary-foreground: #1a1918;
  --secondary: #2d2a26;
  --secondary-foreground: #f7f4ee;
  --muted: #2d2a26;
  --muted-foreground: #8a847a;
  --accent: #2d2a26;
  --accent-foreground: #f7f4ee;
  --destructive: oklch(0.704 0.191 22.216);
  --border: rgba(247, 244, 238, 0.1);
  --input: rgba(247, 244, 238, 0.15);
  --ring: #c8553d;
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: #252321;
  --sidebar-foreground: #f7f4ee;
  --sidebar-primary: #c8553d;
  --sidebar-primary-foreground: #f7f4ee;
  --sidebar-accent: #2d2a26;
  --sidebar-accent-foreground: #f7f4ee;
  --sidebar-border: rgba(247, 244, 238, 0.1);
  --sidebar-ring: #c8553d;

  /* Brand color - terracotta */
  --blue: #c8553d;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .wrapper {
    @apply max-w-7xl px-5 mx-auto w-full;
  }
  .container {
    @apply pt-[94px] pb-18 min-h-screen;
  }
  .navItem {
    @apply px-1 sm:px-3 text-sm sm:text-base font-medium flex items-center cursor-pointer text-[var(--text-primary)];
  }
  .input-reset {
    @apply h-12 border-none lg:!text-lg shadow-none focus:outline-none focus-visible:ring-0;
  }
  .label {
    @apply text-lg mb-1 !font-medium;
  }
  .auth-wrapper {
    @apply max-w-7xl px-5 mx-auto w-full min-h-screen pt-20 flex flex-col items-center justify-center py-10;
  }
  .auth-shadow {
    @apply rounded-2xl bg-[var(--accent-light)];
  }
  .clerk-subscriptions {
    @apply py-18 min-h-screen max-w-7xl px-5 mx-auto w-full flex flex-col pb-12 items-center container;
  }
  .page-title {
    @apply !text-3xl font-bold text-center;
  }
  .page-description {
    @apply !mt-3 text-center text-lg;
  }
  .new-book {
    @apply max-w-7xl px-5 mx-auto w-full space-y-6 py-18 min-h-screen;
  }
  .new-book-wrapper {
    @apply mx-auto max-w-2xl space-y-6 mt-12 mb-20;
  }
  .file-upload-shadow {
    @apply relative z-20 flex flex-col justify-center items-center p-7;
  }
  .form-btn {
    @apply !w-full h-14 rounded-[10px] bg-[#663820] cursor-pointer hover:bg-[#7a4528] text-xl text-white font-bold transition-colors;
    font-family: 'IBM Plex Serif', serif;
  }
  .loading-wrapper {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm;
  }
  .loading-shadow-wrapper {
    @apply rounded-xl p-10 w-fit md:min-w-md;
  }
  .loading-shadow {
    @apply rounded-xl flex flex-col items-center space-y-6;
  }
  .loading-animation {
    @apply animate-spin origin-center mx-auto;
  }
  .loading-title {
    @apply text-2xl font-bold text-[var(--text-primary)];
  }
  .loading-progress {
    @apply w-full space-y-2 text-sm;
  }
  .loading-progress-item {
    @apply flex justify-center items-center space-x-2;
  }
  .loading-progress-status {
    @apply w-2 h-2 text-[var(--text-secondary)] bg-[var(--success)] rounded-full animate-pulse;
  }
  .select-trigger {
    @apply !w-full !h-12 rounded-lg;
  }
  .volume {
    @apply !ml-auto w-4 h-4 animate-pulse text-[var(--accent-warm)];
  }
  .select-content {
    @apply rounded-xl border border-[var(--border-subtle)] max-h-[400px] shadow-[var(--shadow-soft)];
  }
  .select-item {
    @apply hover:rounded-lg font-medium text-lg;
  }

  /* ===========================================
     DESIGN SYSTEM FOUNDATION
     =========================================== */
  .shadow-soft-sm {
    box-shadow: var(--shadow-soft-sm);
  }
  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }
  .shadow-soft-md {
    box-shadow: var(--shadow-soft-md);
  }
  .shadow-soft-lg {
    box-shadow: var(--shadow-soft-lg);
  }
  .bg-brand {
    @apply bg-[var(--accent-warm)];
  }

  /* Button utilities */
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-[var(--color-brand)] hover:bg-[var(--color-brand-hover)] text-white font-bold rounded-[10px] transition-colors;
    font-family: 'IBM Plex Serif', serif;
  }
  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-white hover:bg-gray-50 text-[var(--text-secondary)] font-medium rounded-[10px] transition-colors;
  }

  /* Layout utilities */
  .navbar-height {
    @apply h-[var(--navbar-height)];
  }

  /* Typography utilities */
  .text-brand {
    @apply text-[var(--color-brand)];
  }
  .border-brand {
    @apply border-[var(--color-brand)];
  }
  .page-title-xl {
    @apply text-4xl md:text-5xl font-semibold text-black tracking-[-0.02em] leading-[54px] font-serif;
  }
  .section-title {
    @apply text-2xl md:text-[30px] font-semibold text-black leading-[30px] font-serif;
  }
  .book-title-lg {
    @apply text-[30px] font-semibold text-black leading-9 mb-2 font-serif;
  }
  .subtitle {
    @apply text-xl text-[var(--text-secondary)] leading-7;
  }
  .icon-sm {
    @apply w-5 h-5;
  }

  /* ===========================================
     NAVBAR COMPONENT
     =========================================== */
  .logo-text {
    @apply font-semibold text-xl hidden sm:block text-black;
  }
  .nav-link-base {
    @apply text-base font-medium leading-6 transition-all;
  }
  .nav-link-active {
    @apply text-[var(--color-brand)] border-b-2 border-[var(--color-brand)] pb-0.5;
  }
  .nav-btn {
    @apply text-base font-medium text-black hover:opacity-70 transition-opacity cursor-pointer;
  }
  .nav-user-link {
    @apply flex items-center gap-1 hover:opacity-70 transition-opacity;
  }
  .nav-user-name {
    @apply hidden sm:inline text-base font-medium text-black;
  }

  /* ===========================================
     BANNER/ALERT COMPONENTS
     =========================================== */
  .error-banner {
    @apply w-full mb-4 p-4 bg-red-50 border border-red-200 rounded-xl;
  }
  .error-banner-content {
    @apply flex items-start justify-between gap-3;
  }
  .error-banner-icon {
    @apply w-5 h-5 text-red-500 shrink-0 mt-0.5;
  }
  .error-banner-link {
    @apply inline-block mt-2 text-sm font-medium text-red-600 hover:text-red-800 underline;
  }
  .error-banner-dismiss {
    @apply text-red-400 hover:text-red-600 transition-colors;
  }
  .warning-banner {
    @apply w-full mb-4 p-3 bg-[var(--accent-light)] border border-[var(--accent-warm)] rounded-xl;
  }
  .warning-banner-content {
    @apply flex items-center gap-2;
  }
  .warning-banner-icon {
    @apply w-5 h-5 text-[var(--accent-warm)];
  }
  .warning-banner-text {
    @apply text-[var(--text-primary)] font-medium;
  }

  /* ===========================================
     LAYOUT CONTAINERS
     =========================================== */
  .vapi-main-container {
    @apply w-full flex flex-col items-center max-w-4xl mx-auto;
  }
  .vapi-card-layout {
    @apply flex flex-col sm:flex-row items-center sm:items-start gap-5 sm:gap-8;
  }
  .book-page-container {
    @apply max-w-7xl px-5 mx-auto w-full pt-20 sm:pt-28 min-h-screen pb-12;
  }
  .library-filter-bar {
    @apply mb-5 md:mb-9 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4;
  }
  .auth-footer {
    @apply mt-10 text-center text-sm text-(--text-secondary) max-w-md;
  }

  /* ===========================================
     VAPI CONTROLS COMPONENT
     =========================================== */
  .vapi-header-card {
    @apply flex items-center gap-6 bg-[#f3e4c7] rounded-[14px] p-6 relative overflow-hidden;
  }
  .vapi-compact-header {
    @apply flex items-center gap-2 bg-[#f3e4c7] rounded-[14px] p-3 mb-3;
  }
  .vapi-transcript-wrapper {
    @apply min-h-[400px] max-h-[60vh] flex flex-col;
  }
  .vapi-cover-wrapper {
    @apply relative shrink-0;
  }
  .vapi-cover-glow {
    @apply hidden;
  }
  .vapi-cover-image {
    @apply relative w-[130px] h-[195px] sm:w-[162px] sm:h-[240px] rounded-lg object-cover;
    box-shadow: 0px 10px 30px 0px rgba(0, 0, 0, 0.1);
  }
  .vapi-mic-wrapper {
    @apply absolute -bottom-1 -right-1 sm:-bottom-2 sm:-right-2;
  }
  .vapi-pulse-ring {
    @apply absolute inset-0 w-[50px] h-[50px] sm:w-[60px] sm:h-[60px] bg-white rounded-full opacity-50 animate-ping;
  }
  .vapi-mic-btn {
    @apply relative w-[50px] h-[50px] sm:w-[60px] sm:h-[60px] cursor-pointer rounded-full flex items-center justify-center transition-all duration-300 border-0 bg-white;

    &:hover {
      transform: scale(1.05);
    }
    &:hover svg {
      @apply text-[#aaa];
    }
    &:active {
      transform: scale(0.95);
    }
    &:disabled {
      @apply opacity-50 cursor-not-allowed;
    }
  }
  .vapi-mic-btn-active {
    @apply bg-white;
  }
  .vapi-mic-btn-inactive {
    @apply bg-white;
  }
  .vapi-badge-ai {
    @apply inline-block bg-white px-3 py-2 rounded-[4px];
  }
  .vapi-badge-ai-text {
    @apply text-sm font-medium text-[#212a3b];
    font-family: 'IBM Plex Serif', serif;
  }
  .vapi-status-indicator {
    @apply flex items-center gap-2 bg-white px-3 py-2 rounded-[4px];
  }
  .vapi-status-dot {
    @apply inline-block w-3 h-3 rounded-full;
  }
  .vapi-status-dot-ready {
    @apply bg-gray-400;
  }
  .vapi-status-dot-connecting {
    @apply bg-yellow-500 animate-pulse;
  }
  .vapi-status-dot-listening {
    @apply bg-green-500 animate-pulse;
  }
  .vapi-status-dot-thinking {
    @apply bg-yellow-500 animate-pulse;
  }
  .vapi-status-dot-speaking {
    @apply bg-green-500 animate-pulse;
  }
  .vapi-status-text {
    @apply text-sm font-medium text-[#212a3b];
    font-family: 'IBM Plex Serif', serif;
  }
  .vapi-stat-box {
    @apply bg-white rounded-[10px] px-2.5 py-5 min-w-[225px] text-center;
  }
  .vapi-stat-box-sm {
    @apply bg-white rounded-[10px] px-2.5 py-5 min-w-[225px] text-center;
  }
  .vapi-stat-label {
    @apply text-lg font-medium text-[#212a3b] mb-3;
    font-family: 'IBM Plex Serif', serif;
  }
  .vapi-stat-value-lg {
    @apply text-[30px] font-semibold text-black leading-9;
    font-family: 'IBM Plex Serif', serif;
  }
  .vapi-stat-value-sm {
    @apply text-sm font-semibold text-[var(--text-primary)] text-center truncate;
  }

  /* ===========================================
     HERO SECTION (Home Page)
     =========================================== */
  .hero-card {
    @apply rounded-2xl p-6 md:p-8 lg:p-10 flex flex-col lg:flex-row items-stretch gap-6 lg:gap-8;
    background-color: #F9F2E6;
    box-shadow: var(--shadow-soft-sm);
  }
  .hero-left {
    @apply flex flex-col gap-4 flex-1 min-w-0 justify-center;
  }
  .hero-title {
    @apply text-3xl md:text-4xl font-semibold tracking-[-0.02em] leading-tight font-serif;
    color: #333333;
  }
  .hero-description {
    @apply text-base md:text-lg leading-relaxed;
    color: #555555;
  }
  .hero-add-btn {
    @apply inline-flex items-center gap-2 bg-white text-[#333333] px-6 py-4 rounded-xl font-bold text-base md:text-lg transition-all w-fit;
    border: 1px solid #E0E0E0;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 2px 8px rgba(0, 0, 0, 0.04);
    font-family: 'IBM Plex Serif', serif;
  }
  .hero-add-btn:hover {
    @apply bg-gray-50;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 4px 12px rgba(0, 0, 0, 0.08);
  }
  .hero-add-icon {
    @apply text-lg font-normal leading-none;
  }
  .hero-center {
    @apply flex items-center justify-center flex-shrink-0;
  }
  .hero-steps-card {
    @apply bg-white rounded-xl p-5 flex flex-col gap-4 flex-shrink-0 w-full lg:w-auto;
    min-width: 220px;
    border: 1px solid #E0E0E0;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 2px 8px rgba(0, 0, 0, 0.04);
  }
  .hero-step-item {
    @apply flex items-start gap-3;
  }
  .hero-step-number {
    @apply w-8 h-8 min-w-8 min-h-8 rounded-full bg-white flex items-center justify-center font-semibold text-sm flex-shrink-0;
    border: 1px solid #E0E0E0;
    color: #333333;
  }
  .hero-step-title {
    @apply font-semibold text-base text-[#333333] leading-6;
  }
  .hero-step-description {
    @apply font-normal text-sm text-[#555555] leading-5;
  }

  /* ===========================================
     BOOKS LIBRARY COMPONENT
     =========================================== */
  .library-hero-card {
    @apply bg-[#f3e4c7] rounded-[14px] p-5 md:p-6 lg:py-6 lg:px-10 relative overflow-hidden flex items-center;
  }
  .library-hero-content {
    @apply flex flex-col items-center text-center lg:items-center lg:text-left lg:flex-row lg:justify-between gap-4 lg:gap-6 w-full;
  }
  .library-hero-text {
    @apply flex-1 max-w-full lg:max-w-[400px] flex flex-col gap-3 lg:gap-4 items-center lg:items-start justify-center z-10;
  }
  .library-hero-title {
    @apply text-[26px] md:text-3xl lg:text-4xl font-semibold text-black tracking-[-0.02em] leading-[32px] md:leading-[42px] font-serif;
  }
  .library-hero-description {
    @apply text-sm md:text-base text-[#3d485e] leading-5 md:leading-6;
  }
  .library-hero-illustration {
    @apply flex items-center justify-center mt-2 lg:hidden;
  }
  .library-hero-illustration-desktop {
    @apply hidden lg:flex items-center justify-center flex-1 max-w-[400px];
  }
  .library-cta-primary {
    @apply inline-flex items-center justify-center gap-2 bg-white text-[var(--text-primary)] px-5 py-3 rounded-[10px] font-bold text-base md:text-xl transition-all w-full lg:w-fit;
    font-family: 'IBM Plex Serif', serif;

    &:hover {
      @apply bg-gray-50;
      box-shadow: var(--shadow-soft);
    }
  }
  .library-cta-secondary {
    @apply inline-flex items-center gap-2 bg-white text-[var(--text-primary)] px-5 py-3 rounded-[10px] font-bold text-xl transition-all;
    font-family: 'IBM Plex Serif', serif;

    &:hover {
      @apply bg-gray-50;
      box-shadow: var(--shadow-soft);
    }
  }
  .library-steps-card {
    @apply bg-white p-4 rounded-[10px];
    list-style: none;
  }
  .library-steps-card div {
    list-style: none;
  }
  .library-step-item {
    @apply flex items-start gap-3;
    list-style: none;
  }
  .library-step-number {
    @apply w-8 h-8 min-w-8 min-h-8 rounded-full bg-[#fff6e5] border border-[var(--text-primary)] text-[var(--text-primary)] flex items-center justify-center font-semibold text-sm;
  }
  .library-step-title {
    @apply font-semibold text-base text-[#222c37] leading-6;
  }
  .library-step-description {
    @apply font-normal text-sm text-[#222c37] leading-5;
  }
  .library-search-wrapper {
    @apply flex items-center bg-white border border-[var(--border-subtle)] rounded-lg overflow-hidden w-full sm:w-80;
  }
  .library-search-input {
    @apply flex-1 py-2 px-4 outline-none text-[var(--text-primary)] placeholder:text-[var(--text-muted)];
  }
  .library-books-grid {
    @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-3 md:gap-x-10 gap-y-7 md:gap-y-9;
  }
  .library-empty-card {
    @apply bg-[var(--bg-secondary)] rounded-[14px] p-12 max-w-md mx-auto;
  }

  /* ===========================================
     TRANSCRIPT COMPONENT
     =========================================== */
  .transcript-container {
    @apply w-full bg-white rounded-[14px] h-full min-h-0 flex flex-col;
  }
  .transcript-messages {
    @apply flex flex-col gap-4 sm:gap-6 p-4 sm:p-6 flex-1 overflow-y-auto scroll-smooth;

    /* Custom scrollbar */
    &::-webkit-scrollbar {
      width: 6px;
    }
    &::-webkit-scrollbar-track {
      background: transparent;
    }
    &::-webkit-scrollbar-thumb {
      background: #d4c4a8;
      border-radius: 3px;
    }
    &::-webkit-scrollbar-thumb:hover {
      background: #c4b498;
    }
  }
  .transcript-message {
    @apply animate-in fade-in slide-in-from-bottom-2 duration-300;
  }
  .transcript-message-user {
    @apply flex justify-end;
  }
  .transcript-message-assistant {
    @apply flex justify-start;
  }
  .transcript-bubble {
    @apply max-w-[80%] px-6 py-4 text-base font-medium leading-7 rounded-2xl;
  }
  .transcript-bubble-user {
    @apply bg-[#663820] text-white rounded-br-sm;
  }
  .transcript-bubble-assistant {
    @apply bg-[#f3e4c7] text-[#212a3b] rounded-bl-sm;
  }
  .transcript-cursor {
    @apply inline-block w-0.5 h-5 ml-1 bg-black animate-pulse;
  }
  .transcript-empty {
    @apply flex flex-col items-center justify-center min-h-[350px] text-center flex-1;
  }
  .transcript-empty-text {
    @apply text-[var(--text-primary)] text-lg font-bold;
  }
  .transcript-empty-hint {
    @apply text-[var(--text-muted)] text-sm mt-1;
  }

  /* ===========================================
     VOICE SELECTOR COMPONENT
     =========================================== */
  .voice-selector-options {
    @apply flex gap-4;
  }
  .voice-selector-option {
    @apply flex-1 flex items-center justify-center gap-3 p-4 border border-[var(--border-subtle)] rounded-lg cursor-pointer transition-all;
    box-shadow: var(--shadow-soft-sm);

    &:hover {
      box-shadow: var(--shadow-soft);
      transform: translateY(-2px);
    }
  }
  .voice-selector-option-selected {
    @apply bg-[var(--accent-light)] border-[var(--accent-warm)];
  }
  .voice-selector-option-default {
    @apply bg-white;

    &:hover {
      @apply bg-[var(--bg-secondary)];
    }
  }
  .voice-selector-option-disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* ===========================================
     BOOK CARD COMPONENT
     =========================================== */
  .book-card {
    @apply flex flex-col transition-all duration-200 h-full border-0;

    &:hover {
      transform: translateY(-4px);
    }
  }
  .book-card-3d {
    @apply relative w-full transition-transform duration-200;
  }
  .book-card-3d-hover {
    @apply group-hover:-translate-y-1;
  }
  .book-card-spine {
    @apply absolute -left-1 top-2 bottom-2 w-3 bg-gradient-to-r from-[#8B7355] to-[#A08060] rounded-l-md z-0;
  }
  .book-card-cover-wrapper {
    @apply relative bg-white rounded-[14px] overflow-hidden flex items-center justify-center h-[205px] md:h-[240px];
  }
  .book-card-cover {
    @apply w-auto h-[170px] md:h-[200px] object-cover rounded-lg;
    box-shadow: var(--shadow-book);
  }
  .book-card-meta {
    @apply mt-4 md:mt-5 flex-1 flex flex-col gap-1;
  }
  .book-card-title {
    @apply font-bold text-[#212a3b] line-clamp-1 text-base md:text-xl leading-[22px] md:leading-[30px];
    font-family: 'IBM Plex Serif', serif;
  }
  .book-card-author {
    @apply text-sm md:text-base font-medium text-[#3d485e] line-clamp-1;
  }

  /* ===========================================
     UPLOAD FORM COMPONENT
     =========================================== */
  .upload-dropzone {
    @apply flex flex-col items-center justify-center h-[165px] bg-white rounded-[6px] cursor-pointer transition-all border-2 border-dashed;
    border-color: var(--border-subtle);

    &:hover {
      @apply bg-gray-50;
    }
  }
  .upload-dropzone-uploaded {
    @apply bg-[#f3e4c7];

    .upload-dropzone-text {
      @apply text-[#663820];
    }
    .upload-dropzone-hint {
      @apply text-[#8B7355];
    }
  }
  .upload-dropzone-icon {
    @apply w-[48px] h-[48px] mb-2 text-[#8B7355];
  }
  .upload-dropzone-text {
    @apply text-[#777] text-lg font-medium text-center;
  }
  .upload-dropzone-hint {
    @apply text-[#777] text-sm mt-1;
  }
  .upload-dropzone-remove {
    @apply flex items-center justify-center w-6 h-6 text-red-500 transition-colors cursor-pointer;

    &:hover {
      @apply text-red-600;
    }
  }
  .form-label {
    @apply text-lg font-medium text-black mb-2 block;
  }
  .form-input {
    @apply w-full p-4 bg-white rounded-lg text-lg font-medium text-[#222] placeholder:text-[#999];
  }

  /* ===========================================
     BACK BUTTON (FLOATING)
     =========================================== */
  .back-btn-floating {
    @apply fixed top-24 left-6 z-50 size-12 rounded-full bg-white border border-[var(--border-subtle)] flex items-center justify-center transition-all;
    box-shadow: var(--shadow-soft);

    &:hover {
      box-shadow: var(--shadow-soft-md);
      transform: translateY(-2px);
    }
  }
}

/* Clerk Auth Button Overrides */
.cl-formButtonPrimary {
  border: none !important;
  box-shadow: var(--shadow-soft) !important;
  border-radius: 0.75rem !important;
  background-color: #212a3b !important;
  color: white !important;
}

.cl-formButtonPrimary:hover {
  background-color: #3d485e !important;
  box-shadow: var(--shadow-soft-md) !important;
}

.cl-pricingTableCardDescription {
  margin-top: 12px !important;
}

/* Subscription Plan Cards - maintain consistent height */
.cl-pricingTableCard {
  min-height: 420px !important;
  display: flex !important;
  flex-direction: column !important;
}

.cl-pricingTableCardContent {
  flex: 1 !important;
}

/* Clerk Auth Input Fields with Soft Shadow */
.cl-formFieldInput__identifier,
.cl-formFieldInput__password,
.cl-formFieldInput__emailAddress,
.cl-formFieldInput__firstName,
.cl-formFieldInput__lastName,
.cl-formFieldInput {
  position: relative !important;
  z-index: 10 !important;
  border: 1px solid var(--border-subtle) !important;
  background-color: white !important;
  box-shadow: var(--shadow-soft-sm) !important;
  border-radius: 0.75rem !important;
}

.cl-formFieldInput:focus {
  border-color: #212a3b !important;
  box-shadow: var(--shadow-soft), 0 0 0 2px rgba(33, 42, 59, 0.1) !important;
}

/* Clerk Auth Social Buttons with Soft Shadow */
.cl-socialButtonsBlockButton,
.cl-socialButtonsBlockButton__google,
.cl-socialButtonsBlockButton__facebook {
  box-shadow: var(--shadow-soft-sm) !important;
  border-radius: 0.75rem !important;
  border: 1px solid var(--border-subtle) !important;
}

.cl-socialButtonsBlockButton:hover {
  box-shadow: var(--shadow-soft) !important;
  background-color: var(--bg-secondary) !important;
}

/* Pricing cards container */
.clerk-pricing-table-wrapper {
  padding: 0.5rem;
  background: var(--bg-primary);
}

/* Center all wrappers */
.clerk-pricing-table-wrapper > div,
.clerk-pricing-table-wrapper > div > div {
  display: flex !important;
  justify-content: center !important;
  flex-wrap: wrap !important;
  gap: 20px !important;
}

/* Individual cards */
.clerk-pricing-table-wrapper > div > div > div {
  position: relative;
  flex: 1 1 300px !important;
  max-width: 400px !important;
}

/* Card styling - with soft shadow */
.clerk-pricing-table-wrapper [class*='card'],
.clerk-pricing-table-wrapper > div > div > div {
  position: relative;
  z-index: 1;
  border: 1px solid var(--border-subtle) !important;
  border-radius: 1rem !important;
  background-color: white !important;
  box-shadow: var(--shadow-soft-md) !important;
}

/* Subscription panel appear above pricing cards */
.cl-drawerRoot {
  z-index: 100 !important;
}

/* Clerk checkout/drawer PRIMARY button text color fix */
.cl-drawerRoot .cl-formButtonPrimary,
.cl-modalContent .cl-formButtonPrimary,
.cl-checkoutForm .cl-formButtonPrimary,
[data-clerk-component] button[class*='formButtonPrimary'] {
  color: white !important;
}

/* Clerk checkout pay button - target primary/solid buttons */
button[class*='cl-formButtonPrimary'],
button[class*='cl-button'][data-variant='solid'][data-color='primary'],
button[class*='cl-button'][data-variant='solid'][data-color='primary'] *,
.cl-main button[type='submit'][class*='formButtonPrimary'],
.cl-footer button[class*='formButtonPrimary'] {
  color: white !important;
}

/* Global Clerk portal/overlay PRIMARY button fix */
[id^='cl-'] button[class*='formButtonPrimary'],
[class^='cl-'] button[class*='formButtonPrimary'],
.cl-modalBackdrop ~ div button[class*='formButtonPrimary'] {
  color: white !important;
}

/* Force white text on Clerk PRIMARY buttons only (not segmented controls, tabs, etc.) */
[class*='cl-'] button[class*='formButtonPrimary'],
[class*='cl-'] button[class*='formButtonPrimary'] *,
button[class*='cl-formButtonPrimary'],
button[class*='cl-formButtonPrimary'] * {
  color: white !important;
}

/* Ensure segmented controls, tabs, and other light buttons have dark text */
.cl-segmentedControlButton,
.cl-segmentedControlButton *,
button[data-variant='unstyled'],
button[data-variant='unstyled'] *,
[class*='cl-segmentedControl'] button,
[class*='cl-segmentedControl'] button *,
.cl-tabButton,
.cl-tabButton *,
[role='tablist'] button,
[role='tablist'] button * {
  color: #212a3b !important;
}

/* Card sections have white background */
.clerk-pricing-table-wrapper [class*='card'] > *,
.clerk-pricing-table-wrapper > div > div > div > * {
  background-color: white !important;
}

/* All buttons */
.clerk-pricing-table-wrapper button {
  height: 3rem !important;
  min-height: 3rem !important;
  font-size: 1.125rem !important;
  background-color: #212a3b !important;
  color: white !important;
  font-weight: 500 !important;
  border: none !important;
  box-shadow: var(--shadow-soft) !important;
  text-transform: none !important;
  border-radius: 0.75rem !important;
  transition: all 0.2s ease !important;
}

.clerk-pricing-table-wrapper button:hover {
  background-color: #3d485e !important;
  box-shadow: var(--shadow-soft-md) !important;
  transform: translateY(-1px);
}

/* Current plan button - disabled state */
.clerk-pricing-table-wrapper button:disabled,
.clerk-pricing-table-wrapper button[disabled],
.clerk-pricing-table-wrapper button[aria-disabled='true'] {
  background-color: #f3e4c7 !important;
  color: #212a3b !important;
  cursor: default !important;
  box-shadow: none !important;
  opacity: 1 !important;
  transform: none !important;
  font-weight: 600 !important;
}

/* Add accent border to active plan card
   Note: This uses :first-child which assumes active plan is always first.
   If Clerk changes the order, this may highlight the wrong card. */
.cl-pricingTableCard:first-child {
  border: 2px solid #663820 !important;
}

/* Style the Active badge with better contrast */
.cl-badge,
.cl-pricingTableCard [class*='badge'],
.cl-pricingTableCard span[class*='Badge'] {
  background-color: #663820 !important;
  color: white !important;
  font-weight: 600 !important;
  padding: 0.25rem 0.75rem !important;
  border-radius: 9999px !important;
}

/* Add "Current Plan" indicator to active plan that doesn't have a button
   Note: Hardcoded English text - if i18n support is needed, this should be
   handled in JavaScript with translated strings rendered in the DOM. */
.cl-pricingTableCard:first-child .cl-pricingTableCardContent::after {
  content: 'Your Current Plan';
  display: block;
  text-align: center;
  padding: 0.75rem 1.5rem;
  margin-top: 1rem;
  background-color: #f3e4c7 !important;
  color: #212a3b !important;
  font-weight: 600;
  border-radius: 0.75rem;
  font-size: 1.125rem;
}